{"ast":null,"code":"import html2canvas from \"html2canvas\";\nimport jsPDF from \"jspdf\";\nexport const generatePDF = async certificateData => {\n  return new Promise(async resolve => {\n    try {\n      // Generate QR code data\n      const qrData = JSON.stringify({\n        certificateId: certificateData.certificateId,\n        name: certificateData.name,\n        event: certificateData.event,\n        date: certificateData.date,\n        verifyUrl: `${window.location.origin}/verify/${certificateData.certificateId}`\n      });\n\n      // Create QR code using a simple library-free method\n      // We'll use a simple image placeholder or external service\n      const qrCodeUrl = `https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=${encodeURIComponent(qrData)}&bgcolor=ffffff&color=000000`;\n\n      // ===============================\n      // CREATE HIDDEN CERTIFICATE (A4)\n      // ===============================\n      const tempDiv = document.createElement(\"div\");\n      tempDiv.style.position = \"fixed\";\n      tempDiv.style.left = \"-9999px\";\n      tempDiv.style.top = \"0\";\n      tempDiv.style.width = \"1123px\";\n      tempDiv.style.height = \"794px\";\n      tempDiv.style.background = \"#fff\";\n      tempDiv.style.zIndex = \"9999\";\n      tempDiv.style.opacity = \"0\";\n      tempDiv.innerHTML = `\n        <div id=\"pdf-certificate\" style=\"\n          width: 1123px;\n          height: 794px;\n          padding: 60px;\n          box-sizing: border-box;\n          font-family: 'Times New Roman', serif;\n          position: relative;\n          background: white;\n        \">\n\n          <!-- TOP BORDER -->\n          <div style=\"\n            position:absolute;\n            top:0; left:0; right:0;\n            height:15px;\n            background:#1a237e;\n          \"></div>\n\n          <!-- TITLE -->\n          <div style=\"text-align:center;\">\n            <h1 style=\"\n              font-size:48px;\n              letter-spacing:2px;\n              margin:40px 0 10px;\n              font-weight:bold;\n              color:#000;\n            \">CERTIFICATE</h1>\n\n            <h2 style=\"\n              font-size:32px;\n              color:#333;\n              margin:0 0 60px;\n              letter-spacing:1px;\n            \">OF PARTICIPATION</h2>\n\n            <p style=\"\n              font-size:20px;\n              color:#555;\n              font-style:italic;\n              margin-bottom:40px;\n            \">\n              This certificate is proudly presented to\n            </p>\n          </div>\n\n          <!-- RECIPIENT NAME -->\n          <div style=\"text-align:center; margin:30px 0;\">\n            <h2 style=\"\n              font-size:48px;\n              font-weight:normal;\n              color:#000;\n              margin:0;\n              padding:20px 0;\n              border-bottom:2px solid #000;\n              display:inline-block;\n              min-width:300px;\n            \">${certificateData.name}</h2>\n          </div>\n\n          <!-- DESCRIPTION -->\n          <div style=\"text-align:center; margin:40px 0;\">\n            <p style=\"\n              font-size:16px;\n              color:#444;\n              line-height:1.6;\n              margin:0 auto;\n              max-width:800px;\n            \">\n              ${certificateData.description || 'This certificate is awarded in recognition of participation and achievement.'}\n            </p>\n          </div>\n\n          <!-- SIGNATURES -->\n          <div style=\"\n            display:flex;\n            justify-content:space-between;\n            align-items:flex-start;\n            margin-top:80px;\n            flex-wrap:wrap;\n          \">\n            <div style=\"text-align:center; min-width:200px;\">\n              <div style=\"width:200px; height:2px; background:#000; margin:0 auto 10px;\"></div>\n              <p style=\"font-size:18px; font-weight:bold; margin:10px 0 5px;\">Korina Villanueva</p>\n              <p style=\"font-size:14px; color:#666; margin:0;\">Event Coordinator</p>\n            </div>\n            \n            <div style=\"text-align:center; min-width:200px;\">\n              <p style=\"font-size:14px; font-weight:bold; margin:0 0 5px;\">DATE:</p>\n              <p style=\"font-size:16px; color:#333; margin:0;\">${certificateData.date.split(' ')[2]}, 2025</p>\n            </div>\n\n            <div style=\"text-align:center; min-width:200px;\">\n              <div style=\"width:200px; height:2px; background:#000; margin:0 auto 10px;\"></div>\n              <p style=\"font-size:18px; font-weight:bold; margin:10px 0 5px;\">Mariana Napolitani</p>\n              <p style=\"font-size:14px; color:#666; margin:0;\">Director of Education</p>\n            </div>\n          </div>\n\n          <!-- EVENT INFO -->\n          <div style=\"text-align:center; margin-top:50px; padding-top:20px; border-top:1px solid #eee;\">\n            <p style=\"font-size:14px; font-weight:bold; margin:0 0 5px;\">EVENT:</p>\n            <p style=\"font-size:18px; color:#333; margin:0;\">${certificateData.event}</p>\n          </div>\n\n          <!-- CERTIFICATE ID -->\n          <div style=\"text-align:center; margin-top:15px;\">\n            <p style=\"font-size:14px; font-weight:bold; margin:0 0 5px;\">CERTIFICATION ID:</p>\n            <p style=\"font-size:16px; color:#1a237e; font-weight:bold; font-family:monospace; margin:0;\">\n              ${certificateData.certificateId}\n            </p>\n          </div>\n\n          <!-- QR CODE -->\n          <div style=\"\n            position:absolute;\n            bottom:40px;\n            right:40px;\n            text-align:center;\n            background:white;\n            padding:10px;\n            border:1px solid #ddd;\n            border-radius:4px;\n            box-shadow:0 2px 4px rgba(0,0,0,0.1);\n          \">\n            <img src=\"${qrCodeUrl}\" \n                 width=\"80\" \n                 height=\"80\" \n                 alt=\"QR Code\"\n                 style=\"display:block; margin:0 auto;\" \n                 crossorigin=\"anonymous\" />\n            <p style=\"font-size:10px; color:#666; margin-top:5px; text-align:center;\">Scan to verify</p>\n          </div>\n\n          <!-- BOTTOM BORDER -->\n          <div style=\"\n            position:absolute;\n            bottom:0; left:0; right:0;\n            height:15px;\n            background:#1a237e;\n          \"></div>\n\n        </div>\n      `;\n      document.body.appendChild(tempDiv);\n\n      // Wait a moment for DOM to render\n      await new Promise(resolve => setTimeout(resolve, 500));\n      const element = tempDiv.querySelector(\"#pdf-certificate\");\n\n      // Wait for QR code image to load\n      await new Promise(resolve => {\n        const img = element.querySelector('img');\n        if (!img) {\n          resolve();\n          return;\n        }\n        if (img.complete) {\n          resolve();\n        } else {\n          img.onload = resolve;\n          img.onerror = () => {\n            console.warn('QR code image failed to load, proceeding anyway');\n            resolve();\n          };\n          setTimeout(resolve, 3000);\n        }\n      });\n\n      // ===============================\n      // HIGH-QUALITY CANVAS\n      // ===============================\n      const canvas = await html2canvas(element, {\n        scale: 2,\n        useCORS: true,\n        backgroundColor: \"#ffffff\",\n        logging: false,\n        allowTaint: false,\n        imageTimeout: 10000\n      });\n      const imgData = canvas.toDataURL(\"image/png\", 1.0);\n\n      // ===============================\n      // PDF (A4 LANDSCAPE)\n      // ===============================\n      const pdf = new jsPDF({\n        orientation: \"landscape\",\n        unit: \"mm\",\n        format: \"a4\",\n        compress: true\n      });\n      const pdfWidth = pdf.internal.pageSize.getWidth();\n      const pdfHeight = pdf.internal.pageSize.getHeight();\n      pdf.addImage(imgData, \"PNG\", 0, 0, pdfWidth, pdfHeight);\n      const fileName = `${certificateData.name.replace(/\\s+/g, '_')}_${certificateData.certificateId}.pdf`;\n      pdf.save(fileName);\n\n      // Clean up\n      document.body.removeChild(tempDiv);\n      resolve({\n        success: true,\n        fileName: fileName,\n        message: 'PDF generated successfully'\n      });\n    } catch (error) {\n      console.error(\"PDF generation error:\", error);\n\n      // Fallback simple PDF without image\n      try {\n        const pdf = new jsPDF({\n          orientation: \"landscape\",\n          unit: \"mm\",\n          format: \"a4\"\n        });\n\n        // Simple text-based certificate\n        pdf.setFont(\"helvetica\", \"bold\");\n        pdf.setFontSize(32);\n        pdf.text(\"CERTIFICATE OF PARTICIPATION\", 148.5, 40, {\n          align: \"center\"\n        });\n        pdf.setFontSize(20);\n        pdf.text(\"Awarded to\", 148.5, 70, {\n          align: \"center\"\n        });\n        pdf.setFontSize(36);\n        pdf.text(certificateData.name, 148.5, 90, {\n          align: \"center\"\n        });\n        pdf.setFontSize(14);\n        pdf.text(`For participation in: ${certificateData.event}`, 148.5, 120, {\n          align: \"center\"\n        });\n        pdf.text(`Issued by: ${certificateData.organizer}`, 148.5, 135, {\n          align: \"center\"\n        });\n        pdf.text(`Date: ${certificateData.date}`, 148.5, 150, {\n          align: \"center\"\n        });\n        pdf.text(`Certificate ID: ${certificateData.certificateId}`, 148.5, 165, {\n          align: \"center\"\n        });\n        pdf.text(`QR Data: ${certificateData.certificateId}`, 148.5, 180, {\n          align: \"center\"\n        });\n        const fileName = `${certificateData.name.replace(/\\s+/g, '_')}_${certificateData.certificateId}.pdf`;\n        pdf.save(fileName);\n        resolve({\n          success: true,\n          fileName: fileName,\n          message: 'PDF generated (simple version)'\n        });\n      } catch (fallbackError) {\n        console.error(\"Fallback PDF generation failed:\", fallbackError);\n        resolve({\n          success: false,\n          error: 'Failed to generate PDF. Please try again.'\n        });\n      }\n    }\n  });\n};\n\n// Alternative without QR code if API is blocked\nexport const generatePDFWithoutQR = async certificateData => {\n  return new Promise(async resolve => {\n    try {\n      const tempDiv = document.createElement(\"div\");\n      tempDiv.style.position = \"fixed\";\n      tempDiv.style.left = \"-9999px\";\n      tempDiv.style.top = \"0\";\n      tempDiv.style.width = \"1123px\";\n      tempDiv.style.height = \"794px\";\n      tempDiv.style.background = \"#fff\";\n      tempDiv.innerHTML = `\n        <div id=\"pdf-certificate\" style=\"\n          width: 1123px;\n          height: 794px;\n          padding: 60px;\n          box-sizing: border-box;\n          font-family: 'Times New Roman', serif;\n          position: relative;\n          background: white;\n        \">\n          <!-- TOP BORDER -->\n          <div style=\"position:absolute; top:0; left:0; right:0; height:15px; background:#1a237e;\"></div>\n\n          <!-- TITLE -->\n          <div style=\"text-align:center;\">\n            <h1 style=\"font-size:48px; letter-spacing:2px; margin:40px 0 10px; font-weight:bold; color:#000;\">\n              CERTIFICATE\n            </h1>\n            <h2 style=\"font-size:32px; color:#333; margin:0 0 60px; letter-spacing:1px;\">\n              OF PARTICIPATION\n            </h2>\n            <p style=\"font-size:20px; color:#555; font-style:italic; margin-bottom:40px;\">\n              This certificate is proudly presented to\n            </p>\n          </div>\n\n          <!-- RECIPIENT NAME -->\n          <div style=\"text-align:center; margin:30px 0;\">\n            <h2 style=\"font-size:48px; font-weight:normal; color:#000; margin:0; padding:20px 0; border-bottom:2px solid #000; display:inline-block; min-width:300px;\">\n              ${certificateData.name}\n            </h2>\n          </div>\n\n          <!-- CERTIFICATE ID DISPLAY -->\n          <div style=\"position:absolute; bottom:40px; right:40px; text-align:center; background:white; padding:10px; border:1px solid #ddd;\">\n            <div style=\"font-size:12px; font-weight:bold; color:#1a237e;\">VERIFICATION</div>\n            <div style=\"font-size:10px; color:#666; margin-top:5px;\">Certificate ID:</div>\n            <div style=\"font-size:9px; font-family:monospace; color:#000; margin-top:2px;\">\n              ${certificateData.certificateId}\n            </div>\n          </div>\n\n          <!-- BOTTOM BORDER -->\n          <div style=\"position:absolute; bottom:0; left:0; right:0; height:15px; background:#1a237e;\"></div>\n        </div>\n      `;\n      document.body.appendChild(tempDiv);\n      const element = tempDiv.querySelector(\"#pdf-certificate\");\n      const canvas = await html2canvas(element, {\n        scale: 2,\n        backgroundColor: \"#ffffff\"\n      });\n      const imgData = canvas.toDataURL(\"image/png\");\n      const pdf = new jsPDF({\n        orientation: \"landscape\",\n        unit: \"mm\",\n        format: \"a4\"\n      });\n      const pdfWidth = pdf.internal.pageSize.getWidth();\n      const pdfHeight = pdf.internal.pageSize.getHeight();\n      pdf.addImage(imgData, \"PNG\", 0, 0, pdfWidth, pdfHeight);\n      const fileName = `${certificateData.name.replace(/\\s+/g, '_')}_${certificateData.certificateId}.pdf`;\n      pdf.save(fileName);\n      document.body.removeChild(tempDiv);\n      resolve({\n        success: true,\n        fileName: fileName\n      });\n    } catch (error) {\n      console.error(\"Simple PDF generation error:\", error);\n      resolve({\n        success: false,\n        error: error.message\n      });\n    }\n  });\n};\nexport default generatePDF;","map":{"version":3,"names":["html2canvas","jsPDF","generatePDF","certificateData","Promise","resolve","qrData","JSON","stringify","certificateId","name","event","date","verifyUrl","window","location","origin","qrCodeUrl","encodeURIComponent","tempDiv","document","createElement","style","position","left","top","width","height","background","zIndex","opacity","innerHTML","description","split","body","appendChild","setTimeout","element","querySelector","img","complete","onload","onerror","console","warn","canvas","scale","useCORS","backgroundColor","logging","allowTaint","imageTimeout","imgData","toDataURL","pdf","orientation","unit","format","compress","pdfWidth","internal","pageSize","getWidth","pdfHeight","getHeight","addImage","fileName","replace","save","removeChild","success","message","error","setFont","setFontSize","text","align","organizer","fallbackError","generatePDFWithoutQR"],"sources":["C:/Users/abhir/certificate-frontend/src/services/pdfGenerator.js"],"sourcesContent":["import html2canvas from \"html2canvas\";\r\nimport jsPDF from \"jspdf\";\r\n\r\nexport const generatePDF = async (certificateData) => {\r\n  return new Promise(async (resolve) => {\r\n    try {\r\n      // Generate QR code data\r\n      const qrData = JSON.stringify({\r\n        certificateId: certificateData.certificateId,\r\n        name: certificateData.name,\r\n        event: certificateData.event,\r\n        date: certificateData.date,\r\n        verifyUrl: `${window.location.origin}/verify/${certificateData.certificateId}`\r\n      });\r\n\r\n      // Create QR code using a simple library-free method\r\n      // We'll use a simple image placeholder or external service\r\n      const qrCodeUrl = `https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=${encodeURIComponent(qrData)}&bgcolor=ffffff&color=000000`;\r\n\r\n      // ===============================\r\n      // CREATE HIDDEN CERTIFICATE (A4)\r\n      // ===============================\r\n      const tempDiv = document.createElement(\"div\");\r\n      tempDiv.style.position = \"fixed\";\r\n      tempDiv.style.left = \"-9999px\";\r\n      tempDiv.style.top = \"0\";\r\n      tempDiv.style.width = \"1123px\";\r\n      tempDiv.style.height = \"794px\";\r\n      tempDiv.style.background = \"#fff\";\r\n      tempDiv.style.zIndex = \"9999\";\r\n      tempDiv.style.opacity = \"0\";\r\n\r\n      tempDiv.innerHTML = `\r\n        <div id=\"pdf-certificate\" style=\"\r\n          width: 1123px;\r\n          height: 794px;\r\n          padding: 60px;\r\n          box-sizing: border-box;\r\n          font-family: 'Times New Roman', serif;\r\n          position: relative;\r\n          background: white;\r\n        \">\r\n\r\n          <!-- TOP BORDER -->\r\n          <div style=\"\r\n            position:absolute;\r\n            top:0; left:0; right:0;\r\n            height:15px;\r\n            background:#1a237e;\r\n          \"></div>\r\n\r\n          <!-- TITLE -->\r\n          <div style=\"text-align:center;\">\r\n            <h1 style=\"\r\n              font-size:48px;\r\n              letter-spacing:2px;\r\n              margin:40px 0 10px;\r\n              font-weight:bold;\r\n              color:#000;\r\n            \">CERTIFICATE</h1>\r\n\r\n            <h2 style=\"\r\n              font-size:32px;\r\n              color:#333;\r\n              margin:0 0 60px;\r\n              letter-spacing:1px;\r\n            \">OF PARTICIPATION</h2>\r\n\r\n            <p style=\"\r\n              font-size:20px;\r\n              color:#555;\r\n              font-style:italic;\r\n              margin-bottom:40px;\r\n            \">\r\n              This certificate is proudly presented to\r\n            </p>\r\n          </div>\r\n\r\n          <!-- RECIPIENT NAME -->\r\n          <div style=\"text-align:center; margin:30px 0;\">\r\n            <h2 style=\"\r\n              font-size:48px;\r\n              font-weight:normal;\r\n              color:#000;\r\n              margin:0;\r\n              padding:20px 0;\r\n              border-bottom:2px solid #000;\r\n              display:inline-block;\r\n              min-width:300px;\r\n            \">${certificateData.name}</h2>\r\n          </div>\r\n\r\n          <!-- DESCRIPTION -->\r\n          <div style=\"text-align:center; margin:40px 0;\">\r\n            <p style=\"\r\n              font-size:16px;\r\n              color:#444;\r\n              line-height:1.6;\r\n              margin:0 auto;\r\n              max-width:800px;\r\n            \">\r\n              ${certificateData.description || 'This certificate is awarded in recognition of participation and achievement.'}\r\n            </p>\r\n          </div>\r\n\r\n          <!-- SIGNATURES -->\r\n          <div style=\"\r\n            display:flex;\r\n            justify-content:space-between;\r\n            align-items:flex-start;\r\n            margin-top:80px;\r\n            flex-wrap:wrap;\r\n          \">\r\n            <div style=\"text-align:center; min-width:200px;\">\r\n              <div style=\"width:200px; height:2px; background:#000; margin:0 auto 10px;\"></div>\r\n              <p style=\"font-size:18px; font-weight:bold; margin:10px 0 5px;\">Korina Villanueva</p>\r\n              <p style=\"font-size:14px; color:#666; margin:0;\">Event Coordinator</p>\r\n            </div>\r\n            \r\n            <div style=\"text-align:center; min-width:200px;\">\r\n              <p style=\"font-size:14px; font-weight:bold; margin:0 0 5px;\">DATE:</p>\r\n              <p style=\"font-size:16px; color:#333; margin:0;\">${certificateData.date.split(' ')[2]}, 2025</p>\r\n            </div>\r\n\r\n            <div style=\"text-align:center; min-width:200px;\">\r\n              <div style=\"width:200px; height:2px; background:#000; margin:0 auto 10px;\"></div>\r\n              <p style=\"font-size:18px; font-weight:bold; margin:10px 0 5px;\">Mariana Napolitani</p>\r\n              <p style=\"font-size:14px; color:#666; margin:0;\">Director of Education</p>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- EVENT INFO -->\r\n          <div style=\"text-align:center; margin-top:50px; padding-top:20px; border-top:1px solid #eee;\">\r\n            <p style=\"font-size:14px; font-weight:bold; margin:0 0 5px;\">EVENT:</p>\r\n            <p style=\"font-size:18px; color:#333; margin:0;\">${certificateData.event}</p>\r\n          </div>\r\n\r\n          <!-- CERTIFICATE ID -->\r\n          <div style=\"text-align:center; margin-top:15px;\">\r\n            <p style=\"font-size:14px; font-weight:bold; margin:0 0 5px;\">CERTIFICATION ID:</p>\r\n            <p style=\"font-size:16px; color:#1a237e; font-weight:bold; font-family:monospace; margin:0;\">\r\n              ${certificateData.certificateId}\r\n            </p>\r\n          </div>\r\n\r\n          <!-- QR CODE -->\r\n          <div style=\"\r\n            position:absolute;\r\n            bottom:40px;\r\n            right:40px;\r\n            text-align:center;\r\n            background:white;\r\n            padding:10px;\r\n            border:1px solid #ddd;\r\n            border-radius:4px;\r\n            box-shadow:0 2px 4px rgba(0,0,0,0.1);\r\n          \">\r\n            <img src=\"${qrCodeUrl}\" \r\n                 width=\"80\" \r\n                 height=\"80\" \r\n                 alt=\"QR Code\"\r\n                 style=\"display:block; margin:0 auto;\" \r\n                 crossorigin=\"anonymous\" />\r\n            <p style=\"font-size:10px; color:#666; margin-top:5px; text-align:center;\">Scan to verify</p>\r\n          </div>\r\n\r\n          <!-- BOTTOM BORDER -->\r\n          <div style=\"\r\n            position:absolute;\r\n            bottom:0; left:0; right:0;\r\n            height:15px;\r\n            background:#1a237e;\r\n          \"></div>\r\n\r\n        </div>\r\n      `;\r\n\r\n      document.body.appendChild(tempDiv);\r\n\r\n      // Wait a moment for DOM to render\r\n      await new Promise(resolve => setTimeout(resolve, 500));\r\n\r\n      const element = tempDiv.querySelector(\"#pdf-certificate\");\r\n      \r\n      // Wait for QR code image to load\r\n      await new Promise((resolve) => {\r\n        const img = element.querySelector('img');\r\n        if (!img) {\r\n          resolve();\r\n          return;\r\n        }\r\n        \r\n        if (img.complete) {\r\n          resolve();\r\n        } else {\r\n          img.onload = resolve;\r\n          img.onerror = () => {\r\n            console.warn('QR code image failed to load, proceeding anyway');\r\n            resolve();\r\n          };\r\n          setTimeout(resolve, 3000);\r\n        }\r\n      });\r\n\r\n      // ===============================\r\n      // HIGH-QUALITY CANVAS\r\n      // ===============================\r\n      const canvas = await html2canvas(element, {\r\n        scale: 2,\r\n        useCORS: true,\r\n        backgroundColor: \"#ffffff\",\r\n        logging: false,\r\n        allowTaint: false,\r\n        imageTimeout: 10000\r\n      });\r\n\r\n      const imgData = canvas.toDataURL(\"image/png\", 1.0);\r\n\r\n      // ===============================\r\n      // PDF (A4 LANDSCAPE)\r\n      // ===============================\r\n      const pdf = new jsPDF({\r\n        orientation: \"landscape\",\r\n        unit: \"mm\",\r\n        format: \"a4\",\r\n        compress: true\r\n      });\r\n\r\n      const pdfWidth = pdf.internal.pageSize.getWidth();\r\n      const pdfHeight = pdf.internal.pageSize.getHeight();\r\n\r\n      pdf.addImage(imgData, \"PNG\", 0, 0, pdfWidth, pdfHeight);\r\n      \r\n      const fileName = `${certificateData.name.replace(/\\s+/g, '_')}_${certificateData.certificateId}.pdf`;\r\n      pdf.save(fileName);\r\n\r\n      // Clean up\r\n      document.body.removeChild(tempDiv);\r\n      \r\n      resolve({\r\n        success: true,\r\n        fileName: fileName,\r\n        message: 'PDF generated successfully'\r\n      });\r\n      \r\n    } catch (error) {\r\n      console.error(\"PDF generation error:\", error);\r\n      \r\n      // Fallback simple PDF without image\r\n      try {\r\n        const pdf = new jsPDF({\r\n          orientation: \"landscape\",\r\n          unit: \"mm\",\r\n          format: \"a4\"\r\n        });\r\n        \r\n        // Simple text-based certificate\r\n        pdf.setFont(\"helvetica\", \"bold\");\r\n        pdf.setFontSize(32);\r\n        pdf.text(\"CERTIFICATE OF PARTICIPATION\", 148.5, 40, { align: \"center\" });\r\n        \r\n        pdf.setFontSize(20);\r\n        pdf.text(\"Awarded to\", 148.5, 70, { align: \"center\" });\r\n        \r\n        pdf.setFontSize(36);\r\n        pdf.text(certificateData.name, 148.5, 90, { align: \"center\" });\r\n        \r\n        pdf.setFontSize(14);\r\n        pdf.text(`For participation in: ${certificateData.event}`, 148.5, 120, { align: \"center\" });\r\n        pdf.text(`Issued by: ${certificateData.organizer}`, 148.5, 135, { align: \"center\" });\r\n        pdf.text(`Date: ${certificateData.date}`, 148.5, 150, { align: \"center\" });\r\n        pdf.text(`Certificate ID: ${certificateData.certificateId}`, 148.5, 165, { align: \"center\" });\r\n        pdf.text(`QR Data: ${certificateData.certificateId}`, 148.5, 180, { align: \"center\" });\r\n        \r\n        const fileName = `${certificateData.name.replace(/\\s+/g, '_')}_${certificateData.certificateId}.pdf`;\r\n        pdf.save(fileName);\r\n        \r\n        resolve({\r\n          success: true,\r\n          fileName: fileName,\r\n          message: 'PDF generated (simple version)'\r\n        });\r\n      } catch (fallbackError) {\r\n        console.error(\"Fallback PDF generation failed:\", fallbackError);\r\n        \r\n        resolve({\r\n          success: false,\r\n          error: 'Failed to generate PDF. Please try again.'\r\n        });\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\n// Alternative without QR code if API is blocked\r\nexport const generatePDFWithoutQR = async (certificateData) => {\r\n  return new Promise(async (resolve) => {\r\n    try {\r\n      const tempDiv = document.createElement(\"div\");\r\n      tempDiv.style.position = \"fixed\";\r\n      tempDiv.style.left = \"-9999px\";\r\n      tempDiv.style.top = \"0\";\r\n      tempDiv.style.width = \"1123px\";\r\n      tempDiv.style.height = \"794px\";\r\n      tempDiv.style.background = \"#fff\";\r\n\r\n      tempDiv.innerHTML = `\r\n        <div id=\"pdf-certificate\" style=\"\r\n          width: 1123px;\r\n          height: 794px;\r\n          padding: 60px;\r\n          box-sizing: border-box;\r\n          font-family: 'Times New Roman', serif;\r\n          position: relative;\r\n          background: white;\r\n        \">\r\n          <!-- TOP BORDER -->\r\n          <div style=\"position:absolute; top:0; left:0; right:0; height:15px; background:#1a237e;\"></div>\r\n\r\n          <!-- TITLE -->\r\n          <div style=\"text-align:center;\">\r\n            <h1 style=\"font-size:48px; letter-spacing:2px; margin:40px 0 10px; font-weight:bold; color:#000;\">\r\n              CERTIFICATE\r\n            </h1>\r\n            <h2 style=\"font-size:32px; color:#333; margin:0 0 60px; letter-spacing:1px;\">\r\n              OF PARTICIPATION\r\n            </h2>\r\n            <p style=\"font-size:20px; color:#555; font-style:italic; margin-bottom:40px;\">\r\n              This certificate is proudly presented to\r\n            </p>\r\n          </div>\r\n\r\n          <!-- RECIPIENT NAME -->\r\n          <div style=\"text-align:center; margin:30px 0;\">\r\n            <h2 style=\"font-size:48px; font-weight:normal; color:#000; margin:0; padding:20px 0; border-bottom:2px solid #000; display:inline-block; min-width:300px;\">\r\n              ${certificateData.name}\r\n            </h2>\r\n          </div>\r\n\r\n          <!-- CERTIFICATE ID DISPLAY -->\r\n          <div style=\"position:absolute; bottom:40px; right:40px; text-align:center; background:white; padding:10px; border:1px solid #ddd;\">\r\n            <div style=\"font-size:12px; font-weight:bold; color:#1a237e;\">VERIFICATION</div>\r\n            <div style=\"font-size:10px; color:#666; margin-top:5px;\">Certificate ID:</div>\r\n            <div style=\"font-size:9px; font-family:monospace; color:#000; margin-top:2px;\">\r\n              ${certificateData.certificateId}\r\n            </div>\r\n          </div>\r\n\r\n          <!-- BOTTOM BORDER -->\r\n          <div style=\"position:absolute; bottom:0; left:0; right:0; height:15px; background:#1a237e;\"></div>\r\n        </div>\r\n      `;\r\n\r\n      document.body.appendChild(tempDiv);\r\n\r\n      const element = tempDiv.querySelector(\"#pdf-certificate\");\r\n      const canvas = await html2canvas(element, {\r\n        scale: 2,\r\n        backgroundColor: \"#ffffff\"\r\n      });\r\n\r\n      const imgData = canvas.toDataURL(\"image/png\");\r\n      const pdf = new jsPDF({ orientation: \"landscape\", unit: \"mm\", format: \"a4\" });\r\n      const pdfWidth = pdf.internal.pageSize.getWidth();\r\n      const pdfHeight = pdf.internal.pageSize.getHeight();\r\n\r\n      pdf.addImage(imgData, \"PNG\", 0, 0, pdfWidth, pdfHeight);\r\n      \r\n      const fileName = `${certificateData.name.replace(/\\s+/g, '_')}_${certificateData.certificateId}.pdf`;\r\n      pdf.save(fileName);\r\n\r\n      document.body.removeChild(tempDiv);\r\n      \r\n      resolve({\r\n        success: true,\r\n        fileName: fileName\r\n      });\r\n      \r\n    } catch (error) {\r\n      console.error(\"Simple PDF generation error:\", error);\r\n      resolve({\r\n        success: false,\r\n        error: error.message\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\nexport default generatePDF;"],"mappings":"AAAA,OAAOA,WAAW,MAAM,aAAa;AACrC,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,WAAW,GAAG,MAAOC,eAAe,IAAK;EACpD,OAAO,IAAIC,OAAO,CAAC,MAAOC,OAAO,IAAK;IACpC,IAAI;MACF;MACA,MAAMC,MAAM,GAAGC,IAAI,CAACC,SAAS,CAAC;QAC5BC,aAAa,EAAEN,eAAe,CAACM,aAAa;QAC5CC,IAAI,EAAEP,eAAe,CAACO,IAAI;QAC1BC,KAAK,EAAER,eAAe,CAACQ,KAAK;QAC5BC,IAAI,EAAET,eAAe,CAACS,IAAI;QAC1BC,SAAS,EAAE,GAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM,WAAWb,eAAe,CAACM,aAAa;MAC9E,CAAC,CAAC;;MAEF;MACA;MACA,MAAMQ,SAAS,GAAG,+DAA+DC,kBAAkB,CAACZ,MAAM,CAAC,8BAA8B;;MAEzI;MACA;MACA;MACA,MAAMa,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;MAC7CF,OAAO,CAACG,KAAK,CAACC,QAAQ,GAAG,OAAO;MAChCJ,OAAO,CAACG,KAAK,CAACE,IAAI,GAAG,SAAS;MAC9BL,OAAO,CAACG,KAAK,CAACG,GAAG,GAAG,GAAG;MACvBN,OAAO,CAACG,KAAK,CAACI,KAAK,GAAG,QAAQ;MAC9BP,OAAO,CAACG,KAAK,CAACK,MAAM,GAAG,OAAO;MAC9BR,OAAO,CAACG,KAAK,CAACM,UAAU,GAAG,MAAM;MACjCT,OAAO,CAACG,KAAK,CAACO,MAAM,GAAG,MAAM;MAC7BV,OAAO,CAACG,KAAK,CAACQ,OAAO,GAAG,GAAG;MAE3BX,OAAO,CAACY,SAAS,GAAG;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB5B,eAAe,CAACO,IAAI;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgBP,eAAe,CAAC6B,WAAW,IAAI,8EAA8E;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE7B,eAAe,CAACS,IAAI,CAACqB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D9B,eAAe,CAACQ,KAAK;AACpF;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgBR,eAAe,CAACM,aAAa;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwBQ,SAAS;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;MAEDG,QAAQ,CAACc,IAAI,CAACC,WAAW,CAAChB,OAAO,CAAC;;MAElC;MACA,MAAM,IAAIf,OAAO,CAACC,OAAO,IAAI+B,UAAU,CAAC/B,OAAO,EAAE,GAAG,CAAC,CAAC;MAEtD,MAAMgC,OAAO,GAAGlB,OAAO,CAACmB,aAAa,CAAC,kBAAkB,CAAC;;MAEzD;MACA,MAAM,IAAIlC,OAAO,CAAEC,OAAO,IAAK;QAC7B,MAAMkC,GAAG,GAAGF,OAAO,CAACC,aAAa,CAAC,KAAK,CAAC;QACxC,IAAI,CAACC,GAAG,EAAE;UACRlC,OAAO,CAAC,CAAC;UACT;QACF;QAEA,IAAIkC,GAAG,CAACC,QAAQ,EAAE;UAChBnC,OAAO,CAAC,CAAC;QACX,CAAC,MAAM;UACLkC,GAAG,CAACE,MAAM,GAAGpC,OAAO;UACpBkC,GAAG,CAACG,OAAO,GAAG,MAAM;YAClBC,OAAO,CAACC,IAAI,CAAC,iDAAiD,CAAC;YAC/DvC,O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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}